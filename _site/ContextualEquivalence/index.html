<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Denotational equality implies contextual equivalence | Programming Language Foundations in Agda
</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Denotational equality implies contextual equivalence" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Programming Language Foundations in Agda" />
<meta property="og:description" content="Programming Language Foundations in Agda" />
<link rel="canonical" href="https://plfa.github.io/ContextualEquivalence/" />
<meta property="og:url" content="https://plfa.github.io/ContextualEquivalence/" />
<meta property="og:site_name" content="Programming Language Foundations in Agda" />
<script type="application/ld+json">
{"description":"Programming Language Foundations in Agda","@type":"WebPage","url":"https://plfa.github.io/ContextualEquivalence/","headline":"Denotational equality implies contextual equivalence","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/">Programming Language Foundations in Agda
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/">Table of Contents</a>
                <a class="page-link" href="/GettingStarted/">Getting Started</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">Denotational equality implies contextual equivalence</h1>
  </header>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/Adequacy/">Prev</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/ContextualEquivalence.lagda">Source</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/Acknowledgements/">Next</a>
    
</p>


  <div class="post-content">
    <pre class="Agda"><a id="197" class="Keyword">module</a> <a id="204" href="/ContextualEquivalence/" class="Module">plfa.ContextualEquivalence</a> <a id="231" class="Keyword">where</a></pre>

<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="/Untyped/" class="Module">plfa.Untyped</a>
  <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="/Untyped/#2980" class="Datatype">Context</a><a id="315" class="Symbol">;</a> <a id="317" href="/Untyped/#4150" class="Datatype Operator">_⊢_</a><a id="320" class="Symbol">;</a> <a id="322" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="323" class="Symbol">;</a> <a id="325" href="/Untyped/#3365" class="Datatype Operator">_∋_</a><a id="328" class="Symbol">;</a> <a id="330" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="331" class="Symbol">;</a> <a id="333" href="/Untyped/#3018" class="InductiveConstructor Operator">_,_</a><a id="336" class="Symbol">;</a> <a id="338" href="/Untyped/#3401" class="InductiveConstructor">Z</a><a id="339" class="Symbol">;</a> <a id="341" href="/Untyped/#3446" class="InductiveConstructor Operator">S_</a><a id="343" class="Symbol">;</a> <a id="345" href="/Untyped/#4186" class="InductiveConstructor Operator">`_</a><a id="347" class="Symbol">;</a> <a id="349" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ_</a><a id="351" class="Symbol">;</a> <a id="353" href="/Untyped/#4298" class="InductiveConstructor Operator">_·_</a><a id="356" class="Symbol">;</a> <a id="358" href="/Untyped/#6171" class="Function">rename</a><a id="364" class="Symbol">;</a> <a id="366" href="/Untyped/#6931" class="Function">subst</a><a id="371" class="Symbol">;</a>
         <a id="382" href="/Untyped/#5845" class="Function">ext</a><a id="385" class="Symbol">;</a> <a id="387" href="/Untyped/#6623" class="Function">exts</a><a id="391" class="Symbol">;</a> <a id="393" href="/Untyped/#7475" class="Function Operator">_[_]</a><a id="397" class="Symbol">;</a> <a id="399" href="/Untyped/#7359" class="Function">subst-zero</a><a id="409" class="Symbol">)</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="/Substitution/" class="Module">plfa.Substitution</a>
   <a id="444" class="Keyword">using</a> <a id="450" class="Symbol">(</a><a id="451" href="/Substitution/#23372" class="Function">rename-subst</a><a id="463" class="Symbol">;</a> <a id="465" href="/Substitution/#16736" class="Function">sub-id</a><a id="471" class="Symbol">;</a> <a id="473" href="/Substitution/#22338" class="Function">sub-sub</a><a id="480" class="Symbol">;</a> <a id="482" href="/Substitution/#2589" class="Function">ids</a><a id="485" class="Symbol">)</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="/LambdaReduction/" class="Module">plfa.LambdaReduction</a>
  <a id="522" class="Keyword">using</a> <a id="528" class="Symbol">(</a><a id="529" href="/LambdaReduction/#386" class="Datatype Operator">_—→_</a><a id="533" class="Symbol">;</a> <a id="535" href="/LambdaReduction/#436" class="InductiveConstructor">ξ₁</a><a id="537" class="Symbol">;</a> <a id="539" href="/LambdaReduction/#526" class="InductiveConstructor">ξ₂</a><a id="541" class="Symbol">;</a> <a id="543" href="/LambdaReduction/#616" class="InductiveConstructor">β</a><a id="544" class="Symbol">;</a> <a id="546" href="/LambdaReduction/#724" class="InductiveConstructor">ζ</a><a id="547" class="Symbol">;</a> <a id="549" href="/LambdaReduction/#894" class="Datatype Operator">_—↠_</a><a id="553" class="Symbol">;</a> <a id="555" href="/LambdaReduction/#1001" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="562" class="Symbol">;</a> <a id="564" href="/LambdaReduction/#944" class="InductiveConstructor Operator">_[]</a><a id="567" class="Symbol">;</a> <a id="569" href="/LambdaReduction/#1923" class="Function">appL-cong</a><a id="578" class="Symbol">;</a> <a id="580" href="/LambdaReduction/#1210" class="Function">—↠-trans</a><a id="588" class="Symbol">)</a>
<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="/Denotational/" class="Module">plfa.Denotational</a>
   <a id="623" class="Keyword">using</a> <a id="629" class="Symbol">(</a><a id="630" href="/Denotational/#18349" class="Function">ℰ</a><a id="631" class="Symbol">;</a> <a id="633" href="/Denotational/#18547" class="Function Operator">_≃_</a><a id="636" class="Symbol">;</a> <a id="638" href="/Denotational/#18835" class="Function">≃-sym</a><a id="643" class="Symbol">;</a> <a id="645" href="/Denotational/#18968" class="Function">≃-trans</a><a id="652" class="Symbol">;</a> <a id="654" href="/Denotational/#17838" class="Function Operator">_iff_</a><a id="659" class="Symbol">)</a>
<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="/Compositional/" class="Module">plfa.Compositional</a>   
   <a id="698" class="Keyword">using</a> <a id="704" class="Symbol">(</a><a id="705" href="/Compositional/#13076" class="Datatype">Ctx</a><a id="708" class="Symbol">;</a> <a id="710" href="/Compositional/#14146" class="Function">plug</a><a id="714" class="Symbol">;</a> <a id="716" href="/Compositional/#14557" class="Function">compositionality</a><a id="732" class="Symbol">)</a>
<a id="734" class="Keyword">open</a> <a id="739" class="Keyword">import</a> <a id="746" href="/Soundness/" class="Module">plfa.Soundness</a>
   <a id="764" class="Keyword">using</a> <a id="770" class="Symbol">(</a><a id="771" href="/Soundness/#2673" class="Function">Subst</a><a id="776" class="Symbol">;</a> <a id="778" href="/Soundness/#24644" class="Function">soundness</a><a id="787" class="Symbol">)</a>
<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="/Adequacy/" class="Module">plfa.Adequacy</a>
   <a id="818" class="Keyword">using</a> <a id="824" class="Symbol">(</a><a id="825" href="/Adequacy/#6699" class="Datatype">Clos</a><a id="829" class="Symbol">;</a> <a id="831" href="/Adequacy/#6669" class="Function">ClosEnv</a><a id="838" class="Symbol">;</a> <a id="840" href="/Adequacy/#6897" class="Function">∅&#39;</a><a id="842" class="Symbol">;</a> <a id="844" href="/Adequacy/#6718" class="InductiveConstructor">clos</a><a id="848" class="Symbol">;</a> <a id="850" href="/Adequacy/#6919" class="Function Operator">_,&#39;_</a><a id="854" class="Symbol">;</a> <a id="856" href="/Adequacy/#7130" class="Datatype Operator">_⊢_⇓_</a><a id="861" class="Symbol">;</a> <a id="863" href="/Adequacy/#7187" class="InductiveConstructor">⇓-var</a><a id="868" class="Symbol">;</a> <a id="870" href="/Adequacy/#7350" class="InductiveConstructor">⇓-lam</a><a id="875" class="Symbol">;</a> <a id="877" href="/Adequacy/#7429" class="InductiveConstructor">⇓-app</a><a id="882" class="Symbol">;</a> <a id="884" href="/Adequacy/#23360" class="Function">adequacy</a><a id="892" class="Symbol">)</a>

<a id="895" class="Keyword">import</a> <a id="902" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="940" class="Symbol">as</a> <a id="943" class="Module">Eq</a>
<a id="946" class="Keyword">open</a> <a id="951" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="954" class="Keyword">using</a> <a id="960" class="Symbol">(</a><a id="961" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="964" class="Symbol">;</a> <a id="966" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#660" class="Function Operator">_≢_</a><a id="969" class="Symbol">;</a> <a id="971" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="975" class="Symbol">;</a> <a id="977" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#887" class="Function">trans</a><a id="982" class="Symbol">;</a> <a id="984" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#838" class="Function">sym</a><a id="987" class="Symbol">;</a> <a id="989" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1170" class="Function">cong</a><a id="993" class="Symbol">;</a> <a id="995" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1408" class="Function">cong₂</a><a id="1000" class="Symbol">;</a> <a id="1002" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1274" class="Function">cong-app</a><a id="1010" class="Symbol">)</a>
<a id="1012" class="Keyword">open</a> <a id="1017" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3975" class="Module">Eq.≡-Reasoning</a> <a id="1032" class="Keyword">using</a> <a id="1038" class="Symbol">(</a><a id="1039" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4076" class="Function Operator">begin_</a><a id="1045" class="Symbol">;</a> <a id="1047" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4134" class="Function Operator">_≡⟨⟩_</a><a id="1052" class="Symbol">;</a> <a id="1054" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">_≡⟨_⟩_</a><a id="1060" class="Symbol">;</a> <a id="1062" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4374" class="Function Operator">_∎</a><a id="1064" class="Symbol">)</a>
<a id="1066" class="Keyword">open</a> <a id="1071" class="Keyword">import</a> <a id="1078" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="1091" class="Keyword">using</a> <a id="1097" class="Symbol">(</a><a id="1098" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">_×_</a><a id="1101" class="Symbol">;</a> <a id="1103" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#69" class="Record">Σ</a><a id="1104" class="Symbol">;</a> <a id="1106" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ-syntax</a><a id="1114" class="Symbol">;</a> <a id="1116" href="https://agda.github.io/agda-stdlib/Data.Product.html#881" class="Function">∃</a><a id="1117" class="Symbol">;</a> <a id="1119" href="https://agda.github.io/agda-stdlib/Data.Product.html#942" class="Function">∃-syntax</a><a id="1127" class="Symbol">;</a> <a id="1129" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#155" class="Field">proj₁</a><a id="1134" class="Symbol">;</a> <a id="1136" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#167" class="Field">proj₂</a><a id="1141" class="Symbol">)</a>
  <a id="1145" class="Keyword">renaming</a> <a id="1154" class="Symbol">(</a><a id="1155" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="1159" class="Symbol">to</a> <a id="1162" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="1167" class="Symbol">)</a>
<a id="1169" class="Keyword">open</a> <a id="1174" class="Keyword">import</a> <a id="1181" href="https://agda.github.io/agda-stdlib/Data.Sum.html" class="Module">Data.Sum</a>
<a id="1190" class="Keyword">open</a> <a id="1195" class="Keyword">import</a> <a id="1202" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a>
<a id="1211" class="Keyword">open</a> <a id="1216" class="Keyword">import</a> <a id="1223" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1240" class="Keyword">using</a> <a id="1246" class="Symbol">(</a><a id="1247" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬_</a><a id="1249" class="Symbol">)</a>
<a id="1251" class="Keyword">open</a> <a id="1256" class="Keyword">import</a> <a id="1263" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="1289" class="Keyword">using</a> <a id="1295" class="Symbol">(</a><a id="1296" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a><a id="1309" class="Symbol">)</a>
<a id="1311" class="Keyword">open</a> <a id="1316" class="Keyword">import</a> <a id="1323" href="https://agda.github.io/agda-stdlib/Data.Empty.html" class="Module">Data.Empty</a> <a id="1334" class="Keyword">using</a> <a id="1340" class="Symbol">(</a><a id="1341" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a><a id="1347" class="Symbol">)</a> <a id="1349" class="Keyword">renaming</a> <a id="1358" class="Symbol">(</a><a id="1359" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">⊥</a> <a id="1361" class="Symbol">to</a> <a id="1364" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">Bot</a><a id="1367" class="Symbol">)</a>
<a id="1369" class="Keyword">open</a> <a id="1374" class="Keyword">import</a> <a id="1381" href="https://agda.github.io/agda-stdlib/Data.Unit.html" class="Module">Data.Unit</a>
<a id="1391" class="Keyword">open</a> <a id="1396" class="Keyword">import</a> <a id="1403" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1420" class="Keyword">using</a> <a id="1426" class="Symbol">(</a><a id="1427" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a><a id="1430" class="Symbol">;</a> <a id="1432" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="1435" class="Symbol">;</a> <a id="1437" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="1439" class="Symbol">)</a>
<a id="1441" class="Keyword">open</a> <a id="1446" class="Keyword">import</a> <a id="1453" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a> <a id="1462" class="Keyword">using</a> <a id="1468" class="Symbol">(</a><a id="1469" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">_∘_</a><a id="1472" class="Symbol">)</a></pre>

<h2 id="a-logical-relation-between-call-by-name-closures-and-terms">A logical relation between call-by-name closures and terms</h2>

<pre class="Agda"><a id="𝔹"></a><a id="1562" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="1564" class="Symbol">:</a> <a id="1566" href="/Adequacy/#6699" class="Datatype">Clos</a> <a id="1571" class="Symbol">→</a> <a id="1573" class="Symbol">(</a><a id="1574" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="1576" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="1578" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="1579" class="Symbol">)</a> <a id="1581" class="Symbol">→</a> <a id="1583" class="PrimitiveType">Set</a>
<a id="ℍ"></a><a id="1587" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="1589" class="Symbol">:</a> <a id="1591" class="Symbol">∀{</a><a id="1593" href="/ContextualEquivalence/#1593" class="Bound">Γ</a><a id="1594" class="Symbol">}</a> <a id="1596" class="Symbol">→</a> <a id="1598" href="/Adequacy/#6669" class="Function">ClosEnv</a> <a id="1606" href="/ContextualEquivalence/#1593" class="Bound">Γ</a> <a id="1608" class="Symbol">→</a> <a id="1610" href="/Soundness/#2673" class="Function">Subst</a> <a id="1616" href="/ContextualEquivalence/#1593" class="Bound">Γ</a> <a id="1618" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="1620" class="Symbol">→</a> <a id="1622" class="PrimitiveType">Set</a>

<a id="1627" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="1629" class="Symbol">(</a><a id="1630" href="/Adequacy/#6718" class="InductiveConstructor">clos</a> <a id="1635" class="Symbol">{</a><a id="1636" href="/ContextualEquivalence/#1636" class="Bound">Γ</a><a id="1637" class="Symbol">}</a> <a id="1639" href="/ContextualEquivalence/#1639" class="Bound">M</a> <a id="1641" href="/ContextualEquivalence/#1641" class="Bound">γ</a><a id="1642" class="Symbol">)</a> <a id="1644" href="/ContextualEquivalence/#1644" class="Bound">N</a> <a id="1646" class="Symbol">=</a> <a id="1648" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="1651" href="/ContextualEquivalence/#1651" class="Bound">σ</a> <a id="1653" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="1655" href="/Soundness/#2673" class="Function">Subst</a> <a id="1661" href="/ContextualEquivalence/#1636" class="Bound">Γ</a> <a id="1663" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="1665" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="1667" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="1669" href="/ContextualEquivalence/#1641" class="Bound">γ</a> <a id="1671" href="/ContextualEquivalence/#1651" class="Bound">σ</a> <a id="1673" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="1675" class="Symbol">(</a><a id="1676" href="/ContextualEquivalence/#1644" class="Bound">N</a> <a id="1678" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1680" href="/Untyped/#6931" class="Function">subst</a> <a id="1686" href="/ContextualEquivalence/#1651" class="Bound">σ</a> <a id="1688" href="/ContextualEquivalence/#1639" class="Bound">M</a><a id="1689" class="Symbol">)</a>

<a id="1692" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="1694" href="/ContextualEquivalence/#1694" class="Bound">γ</a> <a id="1696" href="/ContextualEquivalence/#1696" class="Bound">σ</a> <a id="1698" class="Symbol">=</a> <a id="1700" class="Symbol">∀{</a><a id="1702" href="/ContextualEquivalence/#1702" class="Bound">x</a><a id="1703" class="Symbol">}</a> <a id="1705" class="Symbol">→</a> <a id="1707" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="1709" class="Symbol">(</a><a id="1710" href="/ContextualEquivalence/#1694" class="Bound">γ</a> <a id="1712" href="/ContextualEquivalence/#1702" class="Bound">x</a><a id="1713" class="Symbol">)</a> <a id="1715" class="Symbol">(</a><a id="1716" href="/ContextualEquivalence/#1696" class="Bound">σ</a> <a id="1718" href="/ContextualEquivalence/#1702" class="Bound">x</a><a id="1719" class="Symbol">)</a>

<a id="ext-subst"></a><a id="1722" href="/ContextualEquivalence/#1722" class="Function">ext-subst</a> <a id="1732" class="Symbol">:</a> <a id="1734" class="Symbol">∀{</a><a id="1736" href="/ContextualEquivalence/#1736" class="Bound">Γ</a> <a id="1738" href="/ContextualEquivalence/#1738" class="Bound">Δ</a><a id="1739" class="Symbol">}</a> <a id="1741" class="Symbol">→</a> <a id="1743" href="/Soundness/#2673" class="Function">Subst</a> <a id="1749" href="/ContextualEquivalence/#1736" class="Bound">Γ</a> <a id="1751" href="/ContextualEquivalence/#1738" class="Bound">Δ</a> <a id="1753" class="Symbol">→</a> <a id="1755" href="/ContextualEquivalence/#1738" class="Bound">Δ</a> <a id="1757" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="1759" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="1761" class="Symbol">→</a> <a id="1763" href="/Soundness/#2673" class="Function">Subst</a> <a id="1769" class="Symbol">(</a><a id="1770" href="/ContextualEquivalence/#1736" class="Bound">Γ</a> <a id="1772" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="1774" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="1775" class="Symbol">)</a> <a id="1777" href="/ContextualEquivalence/#1738" class="Bound">Δ</a>
<a id="1779" href="/ContextualEquivalence/#1722" class="Function">ext-subst</a><a id="1788" class="Symbol">{</a><a id="1789" href="/ContextualEquivalence/#1789" class="Bound">Γ</a><a id="1790" class="Symbol">}{</a><a id="1792" href="/ContextualEquivalence/#1792" class="Bound">Δ</a><a id="1793" class="Symbol">}</a> <a id="1795" href="/ContextualEquivalence/#1795" class="Bound">σ</a> <a id="1797" href="/ContextualEquivalence/#1797" class="Bound">N</a> <a id="1799" class="Symbol">{</a><a id="1800" href="/ContextualEquivalence/#1800" class="Bound">A</a><a id="1801" class="Symbol">}</a> <a id="1803" class="Symbol">=</a> <a id="1805" class="Symbol">(</a><a id="1806" href="/Untyped/#6931" class="Function">subst</a> <a id="1812" class="Symbol">(</a><a id="1813" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="1824" href="/ContextualEquivalence/#1797" class="Bound">N</a><a id="1825" class="Symbol">))</a> <a id="1828" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="1830" class="Symbol">(</a><a id="1831" href="/Untyped/#6623" class="Function">exts</a> <a id="1836" href="/ContextualEquivalence/#1795" class="Bound">σ</a><a id="1837" class="Symbol">)</a>

<a id="ℍ-ext"></a><a id="1840" href="/ContextualEquivalence/#1840" class="Function">ℍ-ext</a> <a id="1846" class="Symbol">:</a> <a id="1848" class="Symbol">∀</a> <a id="1850" class="Symbol">{</a><a id="1851" href="/ContextualEquivalence/#1851" class="Bound">Γ</a><a id="1852" class="Symbol">}</a> <a id="1854" class="Symbol">{</a><a id="1855" href="/ContextualEquivalence/#1855" class="Bound">γ</a> <a id="1857" class="Symbol">:</a> <a id="1859" href="/Adequacy/#6669" class="Function">ClosEnv</a> <a id="1867" href="/ContextualEquivalence/#1851" class="Bound">Γ</a><a id="1868" class="Symbol">}</a> <a id="1870" class="Symbol">{</a><a id="1871" href="/ContextualEquivalence/#1871" class="Bound">σ</a> <a id="1873" class="Symbol">:</a> <a id="1875" href="/Soundness/#2673" class="Function">Subst</a> <a id="1881" href="/ContextualEquivalence/#1851" class="Bound">Γ</a> <a id="1883" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="1884" class="Symbol">}</a> <a id="1886" class="Symbol">{</a><a id="1887" href="/ContextualEquivalence/#1887" class="Bound">c</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="/ContextualEquivalence/#1891" class="Bound">N</a> <a id="1893" class="Symbol">:</a> <a id="1895" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="1897" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="1899" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="1900" class="Symbol">}</a>
      <a id="1908" class="Symbol">→</a> <a id="1910" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="1912" href="/ContextualEquivalence/#1855" class="Bound">γ</a> <a id="1914" href="/ContextualEquivalence/#1871" class="Bound">σ</a>  <a id="1917" class="Symbol">→</a>  <a id="1920" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="1922" href="/ContextualEquivalence/#1887" class="Bound">c</a> <a id="1924" href="/ContextualEquivalence/#1891" class="Bound">N</a>
        <a id="1934" class="Comment">--------------------------------</a>
      <a id="1973" class="Symbol">→</a> <a id="1975" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="1977" class="Symbol">(</a><a id="1978" href="/ContextualEquivalence/#1855" class="Bound">γ</a> <a id="1980" href="/Adequacy/#6919" class="Function Operator">,&#39;</a> <a id="1983" href="/ContextualEquivalence/#1887" class="Bound">c</a><a id="1984" class="Symbol">)</a> <a id="1986" class="Symbol">((</a><a id="1988" href="/Untyped/#6931" class="Function">subst</a> <a id="1994" class="Symbol">(</a><a id="1995" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="2006" href="/ContextualEquivalence/#1891" class="Bound">N</a><a id="2007" class="Symbol">))</a> <a id="2010" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="2012" class="Symbol">(</a><a id="2013" href="/Untyped/#6623" class="Function">exts</a> <a id="2018" href="/ContextualEquivalence/#1871" class="Bound">σ</a><a id="2019" class="Symbol">))</a>
<a id="2022" href="/ContextualEquivalence/#1840" class="Function">ℍ-ext</a> <a id="2028" class="Symbol">{</a><a id="2029" href="/ContextualEquivalence/#2029" class="Bound">Γ</a><a id="2030" class="Symbol">}</a> <a id="2032" class="Symbol">{</a><a id="2033" href="/ContextualEquivalence/#2033" class="Bound">γ</a><a id="2034" class="Symbol">}</a> <a id="2036" class="Symbol">{</a><a id="2037" href="/ContextualEquivalence/#2037" class="Bound">σ</a><a id="2038" class="Symbol">}</a> <a id="2040" href="/ContextualEquivalence/#2040" class="Bound">g</a> <a id="2042" href="/ContextualEquivalence/#2042" class="Bound">e</a> <a id="2044" class="Symbol">{</a><a id="2045" href="/Untyped/#3401" class="InductiveConstructor">Z</a><a id="2046" class="Symbol">}</a> <a id="2048" class="Symbol">=</a> <a id="2050" href="/ContextualEquivalence/#2042" class="Bound">e</a>
<a id="2052" href="/ContextualEquivalence/#1840" class="Function">ℍ-ext</a> <a id="2058" class="Symbol">{</a><a id="2059" href="/ContextualEquivalence/#2059" class="Bound">Γ</a><a id="2060" class="Symbol">}</a> <a id="2062" class="Symbol">{</a><a id="2063" href="/ContextualEquivalence/#2063" class="Bound">γ</a><a id="2064" class="Symbol">}</a> <a id="2066" class="Symbol">{</a><a id="2067" href="/ContextualEquivalence/#2067" class="Bound">σ</a><a id="2068" class="Symbol">}{</a><a id="2070" href="/ContextualEquivalence/#2070" class="Bound">c</a><a id="2071" class="Symbol">}{</a><a id="2073" href="/ContextualEquivalence/#2073" class="Bound">N</a><a id="2074" class="Symbol">}</a> <a id="2076" href="/ContextualEquivalence/#2076" class="Bound">g</a> <a id="2078" href="/ContextualEquivalence/#2078" class="Bound">e</a> <a id="2080" class="Symbol">{</a><a id="2081" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="2083" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2084" class="Symbol">}</a> <a id="2086" class="Symbol">=</a> <a id="2088" href="/ContextualEquivalence/#2416" class="Function">G</a> <a id="2090" href="/ContextualEquivalence/#2076" class="Bound">g</a>
  <a id="2094" class="Keyword">where</a>
      <a id="2106" href="/ContextualEquivalence/#2106" class="Function">eq</a> <a id="2109" class="Symbol">:</a> <a id="2111" href="/ContextualEquivalence/#1722" class="Function">ext-subst</a> <a id="2121" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2123" href="/ContextualEquivalence/#2073" class="Bound">N</a> <a id="2125" class="Symbol">(</a><a id="2126" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="2128" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2129" class="Symbol">)</a> <a id="2131" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2133" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2135" href="/ContextualEquivalence/#2083" class="Bound">x</a>
      <a id="2143" href="/ContextualEquivalence/#2106" class="Function">eq</a> <a id="2146" class="Symbol">=</a>
        <a id="2156" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4076" class="Function Operator">begin</a>
          <a id="2172" class="Symbol">(</a><a id="2173" href="/Untyped/#6931" class="Function">subst</a> <a id="2179" class="Symbol">(</a><a id="2180" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="2191" href="/ContextualEquivalence/#2073" class="Bound">N</a><a id="2192" class="Symbol">))</a> <a id="2195" class="Symbol">(</a><a id="2196" href="/Untyped/#6623" class="Function">exts</a> <a id="2201" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2203" class="Symbol">(</a><a id="2204" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="2206" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2207" class="Symbol">))</a>
        <a id="2218" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4134" class="Function Operator">≡⟨⟩</a>
          <a id="2232" class="Symbol">((</a><a id="2234" href="/Untyped/#6931" class="Function">subst</a> <a id="2240" class="Symbol">(</a><a id="2241" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="2252" href="/ContextualEquivalence/#2073" class="Bound">N</a><a id="2253" class="Symbol">))</a> <a id="2256" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="2258" class="Symbol">(</a><a id="2259" href="/Untyped/#6171" class="Function">rename</a> <a id="2266" href="/Untyped/#3446" class="InductiveConstructor Operator">S_</a><a id="2268" class="Symbol">))</a> <a id="2271" class="Symbol">(</a><a id="2272" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2274" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2275" class="Symbol">)</a>
        <a id="2285" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">≡⟨</a> <a id="2288" href="/Substitution/#23372" class="Function">rename-subst</a><a id="2300" class="Symbol">{</a><a id="2301" class="Argument">M</a> <a id="2303" class="Symbol">=</a> <a id="2305" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2307" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2308" class="Symbol">}</a> <a id="2310" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">⟩</a>
          <a id="2322" class="Symbol">(</a><a id="2323" href="/Untyped/#6931" class="Function">subst</a> <a id="2329" class="Symbol">((</a><a id="2331" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="2342" href="/ContextualEquivalence/#2073" class="Bound">N</a><a id="2343" class="Symbol">)</a> <a id="2345" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="2347" href="/Untyped/#3446" class="InductiveConstructor Operator">S_</a><a id="2349" class="Symbol">))</a> <a id="2352" class="Symbol">(</a><a id="2353" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2355" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2356" class="Symbol">)</a>        
        <a id="2374" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">≡⟨</a> <a id="2377" href="/Substitution/#16736" class="Function">sub-id</a> <a id="2384" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">⟩</a>
          <a id="2396" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2398" href="/ContextualEquivalence/#2083" class="Bound">x</a>
        <a id="2408" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4374" class="Function Operator">∎</a>
      <a id="2416" href="/ContextualEquivalence/#2416" class="Function">G</a> <a id="2418" class="Symbol">:</a> <a id="2420" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="2422" class="Symbol">(</a><a id="2423" href="/ContextualEquivalence/#2063" class="Bound">γ</a> <a id="2425" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2426" class="Symbol">)</a> <a id="2428" class="Symbol">(</a><a id="2429" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2431" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2432" class="Symbol">)</a> <a id="2434" class="Symbol">→</a> <a id="2436" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="2438" class="Symbol">(</a><a id="2439" href="/ContextualEquivalence/#2063" class="Bound">γ</a> <a id="2441" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2442" class="Symbol">)</a> <a id="2444" class="Symbol">(</a><a id="2445" href="/ContextualEquivalence/#1722" class="Function">ext-subst</a> <a id="2455" href="/ContextualEquivalence/#2067" class="Bound">σ</a> <a id="2457" href="/ContextualEquivalence/#2073" class="Bound">N</a> <a id="2459" class="Symbol">(</a><a id="2460" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="2462" href="/ContextualEquivalence/#2083" class="Bound">x</a><a id="2463" class="Symbol">))</a>
      <a id="2472" href="/ContextualEquivalence/#2416" class="Function">G</a> <a id="2474" href="/ContextualEquivalence/#2474" class="Bound">b</a> <a id="2476" class="Keyword">rewrite</a> <a id="2484" href="/ContextualEquivalence/#2106" class="Function">eq</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="/ContextualEquivalence/#2474" class="Bound">b</a></pre>

<h2 id="soundness-of-call-by-name-wrt-beta-reduction">Soundness of call-by-name wrt. beta reduction</h2>

<pre class="Agda"><a id="cbn-soundness"></a><a id="2566" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a> <a id="2580" class="Symbol">:</a> <a id="2582" class="Symbol">∀{</a><a id="2584" href="/ContextualEquivalence/#2584" class="Bound">Γ</a><a id="2585" class="Symbol">}{</a><a id="2587" href="/ContextualEquivalence/#2587" class="Bound">γ</a> <a id="2589" class="Symbol">:</a> <a id="2591" href="/Adequacy/#6669" class="Function">ClosEnv</a> <a id="2599" href="/ContextualEquivalence/#2584" class="Bound">Γ</a><a id="2600" class="Symbol">}{</a><a id="2602" href="/ContextualEquivalence/#2602" class="Bound">σ</a> <a id="2604" class="Symbol">:</a> <a id="2606" href="/Soundness/#2673" class="Function">Subst</a> <a id="2612" href="/ContextualEquivalence/#2584" class="Bound">Γ</a> <a id="2614" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="2615" class="Symbol">}{</a><a id="2617" href="/ContextualEquivalence/#2617" class="Bound">M</a> <a id="2619" class="Symbol">:</a> <a id="2621" href="/ContextualEquivalence/#2584" class="Bound">Γ</a> <a id="2623" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="2625" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="2626" class="Symbol">}{</a><a id="2628" href="/ContextualEquivalence/#2628" class="Bound">c</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="/Adequacy/#6699" class="Datatype">Clos</a><a id="2636" class="Symbol">}</a>
              <a id="2652" class="Symbol">→</a> <a id="2654" href="/ContextualEquivalence/#2587" class="Bound">γ</a> <a id="2656" href="/Adequacy/#7130" class="Datatype Operator">⊢</a> <a id="2658" href="/ContextualEquivalence/#2617" class="Bound">M</a> <a id="2660" href="/Adequacy/#7130" class="Datatype Operator">⇓</a> <a id="2662" href="/ContextualEquivalence/#2628" class="Bound">c</a> <a id="2664" class="Symbol">→</a> <a id="2666" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="2668" href="/ContextualEquivalence/#2587" class="Bound">γ</a> <a id="2670" href="/ContextualEquivalence/#2602" class="Bound">σ</a>
              <a id="2686" class="Symbol">→</a> <a id="2688" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="2691" href="/ContextualEquivalence/#2691" class="Bound">N</a> <a id="2693" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="2695" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="2697" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="2699" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="2701" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="2703" class="Symbol">(</a><a id="2704" href="/Untyped/#6931" class="Function">subst</a> <a id="2710" href="/ContextualEquivalence/#2602" class="Bound">σ</a> <a id="2712" href="/ContextualEquivalence/#2617" class="Bound">M</a> <a id="2714" href="/LambdaReduction/#894" class="Datatype Operator">—↠</a> <a id="2717" href="/ContextualEquivalence/#2691" class="Bound">N</a><a id="2718" class="Symbol">)</a> <a id="2720" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="2722" href="/ContextualEquivalence/#1562" class="Function">𝔹</a> <a id="2724" href="/ContextualEquivalence/#2628" class="Bound">c</a> <a id="2726" href="/ContextualEquivalence/#2691" class="Bound">N</a>
<a id="2728" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a> <a id="2742" class="Symbol">{</a><a id="2743" class="Argument">γ</a> <a id="2745" class="Symbol">=</a> <a id="2747" href="/ContextualEquivalence/#2747" class="Bound">γ</a><a id="2748" class="Symbol">}</a> <a id="2750" class="Symbol">(</a><a id="2751" href="/Adequacy/#7187" class="InductiveConstructor">⇓-var</a><a id="2756" class="Symbol">{</a><a id="2757" class="Argument">x</a> <a id="2759" class="Symbol">=</a> <a id="2761" href="/ContextualEquivalence/#2761" class="Bound">x</a><a id="2762" class="Symbol">}</a> <a id="2764" href="/ContextualEquivalence/#2764" class="Bound">eq</a> <a id="2767" href="/ContextualEquivalence/#2767" class="Bound">d</a><a id="2768" class="Symbol">)</a> <a id="2770" href="/ContextualEquivalence/#2770" class="Bound">h</a>
    <a id="2776" class="Keyword">with</a> <a id="2781" href="/ContextualEquivalence/#2747" class="Bound">γ</a> <a id="2783" href="/ContextualEquivalence/#2761" class="Bound">x</a> <a id="2785" class="Symbol">|</a> <a id="2787" href="/ContextualEquivalence/#2770" class="Bound">h</a> <a id="2789" class="Symbol">{</a><a id="2790" href="/ContextualEquivalence/#2761" class="Bound">x</a><a id="2791" class="Symbol">}</a> <a id="2793" class="Symbol">|</a> <a id="2795" href="/ContextualEquivalence/#2764" class="Bound">eq</a>
<a id="2798" class="Symbol">...</a> <a id="2802" class="Symbol">|</a> <a id="2804" href="/Adequacy/#6718" class="InductiveConstructor">clos</a> <a id="2809" href="/ContextualEquivalence/#2809" class="Bound">M&#39;</a> <a id="2812" href="/ContextualEquivalence/#2812" class="Bound">γ&#39;</a> <a id="2815" class="Symbol">|</a> <a id="2817" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2819" href="/ContextualEquivalence/#2819" class="Bound">σ&#39;</a> <a id="2822" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2824" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2826" href="/ContextualEquivalence/#2826" class="Bound">h&#39;</a> <a id="2829" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2831" href="/ContextualEquivalence/#2831" class="Bound">r</a> <a id="2833" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="2835" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="2837" class="Symbol">|</a> <a id="2839" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="2848" class="Keyword">with</a> <a id="2853" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a><a id="2866" class="Symbol">{</a><a id="2867" class="Argument">σ</a> <a id="2869" class="Symbol">=</a> <a id="2871" href="/ContextualEquivalence/#2819" class="Bound">σ&#39;</a><a id="2873" class="Symbol">}</a> <a id="2875" class="Bound">d</a> <a id="2877" href="/ContextualEquivalence/#2826" class="Bound">h&#39;</a>
<a id="2880" class="Symbol">...</a> <a id="2884" class="Symbol">|</a> <a id="2886" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2888" href="/ContextualEquivalence/#2888" class="Bound">N</a> <a id="2890" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2892" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2894" href="/ContextualEquivalence/#2894" class="Bound">r&#39;</a> <a id="2897" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2899" href="/ContextualEquivalence/#2899" class="Bound">bn</a> <a id="2902" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="2904" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="2906" class="Keyword">rewrite</a> <a id="2914" class="Bound">r</a> <a id="2916" class="Symbol">=</a>    
      <a id="2928" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2930" href="/ContextualEquivalence/#2888" class="Bound">N</a> <a id="2932" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2934" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="2936" href="/ContextualEquivalence/#2894" class="Bound">r&#39;</a> <a id="2939" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2941" href="/ContextualEquivalence/#2899" class="Bound">bn</a> <a id="2944" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="2946" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="2948" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a> <a id="2962" class="Symbol">{</a><a id="2963" href="/ContextualEquivalence/#2963" class="Bound">Γ</a><a id="2964" class="Symbol">}</a> <a id="2966" class="Symbol">{</a><a id="2967" href="/ContextualEquivalence/#2967" class="Bound">γ</a><a id="2968" class="Symbol">}</a> <a id="2970" class="Symbol">{</a><a id="2971" href="/ContextualEquivalence/#2971" class="Bound">σ</a><a id="2972" class="Symbol">}</a> <a id="2974" class="Symbol">{</a><a id="2975" class="DottedPattern Symbol">.(</a><a id="2977" href="/Untyped/#4238" class="DottedPattern InductiveConstructor Operator">ƛ</a> <a id="2979" class="DottedPattern Symbol">_)</a><a id="2981" class="Symbol">}</a> <a id="2983" class="Symbol">{</a><a id="2984" class="DottedPattern Symbol">.(</a><a id="2986" href="/Adequacy/#6718" class="DottedPattern InductiveConstructor">clos</a> <a id="2991" class="DottedPattern Symbol">(</a><a id="2992" href="/Untyped/#4238" class="DottedPattern InductiveConstructor Operator">ƛ</a> <a id="2994" class="DottedPattern Symbol">_)</a> <a id="2997" href="/ContextualEquivalence/#2967" class="DottedPattern Bound">γ</a><a id="2998" class="DottedPattern Symbol">)</a><a id="2999" class="Symbol">}</a> <a id="3001" class="Symbol">(</a><a id="3002" href="/Adequacy/#7350" class="InductiveConstructor">⇓-lam</a><a id="3007" class="Symbol">{</a><a id="3008" class="Argument">M</a> <a id="3010" class="Symbol">=</a> <a id="3012" href="/ContextualEquivalence/#3012" class="Bound">N</a><a id="3013" class="Symbol">})</a> <a id="3016" href="/ContextualEquivalence/#3016" class="Bound">h</a> <a id="3018" class="Symbol">=</a>
   <a id="3023" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3025" href="/Untyped/#6931" class="Function">subst</a> <a id="3031" href="/ContextualEquivalence/#2971" class="Bound">σ</a> <a id="3033" class="Symbol">(</a><a id="3034" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="3036" href="/ContextualEquivalence/#3012" class="Bound">N</a><a id="3037" class="Symbol">)</a> <a id="3039" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3041" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3043" href="/Untyped/#6931" class="Function">subst</a> <a id="3049" href="/ContextualEquivalence/#2971" class="Bound">σ</a> <a id="3051" class="Symbol">(</a><a id="3052" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="3054" href="/ContextualEquivalence/#3012" class="Bound">N</a><a id="3055" class="Symbol">)</a> <a id="3057" href="/LambdaReduction/#944" class="InductiveConstructor Operator">[]</a> <a id="3060" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3062" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3064" href="/ContextualEquivalence/#2971" class="Bound">σ</a> <a id="3066" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3068" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3070" href="/ContextualEquivalence/#3016" class="Bound">h</a> <a id="3072" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3074" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="3079" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3081" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3083" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3085" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="3087" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a> <a id="3101" class="Symbol">{</a><a id="3102" href="/ContextualEquivalence/#3102" class="Bound">Γ</a><a id="3103" class="Symbol">}</a> <a id="3105" class="Symbol">{</a><a id="3106" href="/ContextualEquivalence/#3106" class="Bound">γ</a><a id="3107" class="Symbol">}</a> <a id="3109" class="Symbol">{</a><a id="3110" href="/ContextualEquivalence/#3110" class="Bound">σ</a><a id="3111" class="Symbol">}</a> <a id="3113" class="Symbol">{</a><a id="3114" class="DottedPattern Symbol">.(_</a> <a id="3118" href="/Untyped/#4298" class="DottedPattern InductiveConstructor Operator">·</a> <a id="3120" class="DottedPattern Symbol">_)</a><a id="3122" class="Symbol">}</a> <a id="3124" class="Symbol">{</a><a id="3125" href="/ContextualEquivalence/#3125" class="Bound">c</a><a id="3126" class="Symbol">}</a>
    <a id="3132" class="Symbol">(</a><a id="3133" href="/Adequacy/#7429" class="InductiveConstructor">⇓-app</a><a id="3138" class="Symbol">{</a><a id="3139" class="Argument">L</a> <a id="3141" class="Symbol">=</a> <a id="3143" href="/ContextualEquivalence/#3143" class="Bound">L</a><a id="3144" class="Symbol">}{</a><a id="3146" class="Argument">M</a> <a id="3148" class="Symbol">=</a> <a id="3150" href="/ContextualEquivalence/#3150" class="Bound">M</a><a id="3151" class="Symbol">}{</a><a id="3153" class="Argument">Δ</a> <a id="3155" class="Symbol">=</a> <a id="3157" href="/ContextualEquivalence/#3157" class="Bound">Δ</a><a id="3158" class="Symbol">}{</a><a id="3160" class="Argument">δ</a> <a id="3162" class="Symbol">=</a> <a id="3164" href="/ContextualEquivalence/#3164" class="Bound">δ</a><a id="3165" class="Symbol">}{</a><a id="3167" class="Argument">N</a> <a id="3169" class="Symbol">=</a> <a id="3171" href="/ContextualEquivalence/#3171" class="Bound">N</a><a id="3172" class="Symbol">}</a> <a id="3174" href="/ContextualEquivalence/#3174" class="Bound">d₁</a> <a id="3177" href="/ContextualEquivalence/#3177" class="Bound">d₂</a><a id="3179" class="Symbol">)</a> <a id="3181" href="/ContextualEquivalence/#3181" class="Bound">h</a>
    <a id="3187" class="Keyword">with</a> <a id="3192" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a><a id="3205" class="Symbol">{</a><a id="3206" class="Argument">σ</a> <a id="3208" class="Symbol">=</a> <a id="3210" href="/ContextualEquivalence/#3110" class="Bound">σ</a><a id="3211" class="Symbol">}</a> <a id="3213" href="/ContextualEquivalence/#3174" class="Bound">d₁</a> <a id="3216" href="/ContextualEquivalence/#3181" class="Bound">h</a>
<a id="3218" class="Symbol">...</a> <a id="3222" class="Symbol">|</a> <a id="3224" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3226" href="/ContextualEquivalence/#3226" class="Bound">L&#39;</a> <a id="3229" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3231" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3233" href="/ContextualEquivalence/#3233" class="Bound">σL—↠L&#39;</a> <a id="3240" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3242" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3244" href="/ContextualEquivalence/#3244" class="Bound">σ₁</a> <a id="3247" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3249" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3251" href="/ContextualEquivalence/#3251" class="Bound">Hδσ₁</a> <a id="3256" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3258" href="/ContextualEquivalence/#3258" class="Bound">eq</a> <a id="3261" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3263" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3265" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3267" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3269" class="Keyword">rewrite</a> <a id="3277" href="/ContextualEquivalence/#3258" class="Bound">eq</a>
    <a id="3284" class="Keyword">with</a> <a id="3289" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a><a id="3302" class="Symbol">{</a><a id="3303" class="Argument">σ</a> <a id="3305" class="Symbol">=</a> <a id="3307" href="/ContextualEquivalence/#1722" class="Function">ext-subst</a> <a id="3317" href="/ContextualEquivalence/#3244" class="Bound">σ₁</a> <a id="3320" class="Symbol">(</a><a id="3321" href="/Untyped/#6931" class="Function">subst</a> <a id="3327" class="Bound">σ</a> <a id="3329" class="Bound">M</a><a id="3330" class="Symbol">)}</a> <a id="3333" class="Bound">d₂</a>
           <a id="3347" class="Symbol">(λ</a> <a id="3350" class="Symbol">{</a><a id="3351" href="/ContextualEquivalence/#3351" class="Bound">x</a><a id="3352" class="Symbol">}</a> <a id="3354" class="Symbol">→</a> <a id="3356" href="/ContextualEquivalence/#1840" class="Function">ℍ-ext</a><a id="3361" class="Symbol">{</a><a id="3362" class="Bound">Δ</a><a id="3363" class="Symbol">}{</a><a id="3365" class="Argument">σ</a> <a id="3367" class="Symbol">=</a> <a id="3369" href="/ContextualEquivalence/#3244" class="Bound">σ₁</a><a id="3371" class="Symbol">}</a> <a id="3373" href="/ContextualEquivalence/#3251" class="Bound">Hδσ₁</a> <a id="3378" class="Symbol">(</a><a id="3379" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3381" class="Bound">σ</a> <a id="3383" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3385" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3387" class="Bound">h</a> <a id="3389" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3391" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="3396" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3398" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a><a id="3399" class="Symbol">){</a><a id="3401" href="/ContextualEquivalence/#3351" class="Bound">x</a><a id="3402" class="Symbol">})</a>
       <a id="3412" class="Symbol">|</a> <a id="3414" href="/LambdaReduction/#616" class="InductiveConstructor">β</a><a id="3415" class="Symbol">{</a><a id="3416" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="3417" class="Symbol">}{</a><a id="3419" href="/Untyped/#6931" class="Function">subst</a> <a id="3425" class="Symbol">(</a><a id="3426" href="/Untyped/#6623" class="Function">exts</a> <a id="3431" href="/ContextualEquivalence/#3244" class="Bound">σ₁</a><a id="3433" class="Symbol">)</a> <a id="3435" class="Bound">N</a><a id="3436" class="Symbol">}{</a><a id="3438" href="/Untyped/#6931" class="Function">subst</a> <a id="3444" class="Bound">σ</a> <a id="3446" class="Bound">M</a><a id="3447" class="Symbol">}</a>
<a id="3449" class="Symbol">...</a> <a id="3453" class="Symbol">|</a> <a id="3455" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3457" href="/ContextualEquivalence/#3457" class="Bound">N&#39;</a> <a id="3460" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3462" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3464" href="/ContextualEquivalence/#3464" class="Bound">r&#39;</a> <a id="3467" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3469" href="/ContextualEquivalence/#3469" class="Bound">bl</a> <a id="3472" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3474" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3476" class="Symbol">|</a> <a id="3478" href="/ContextualEquivalence/#3478" class="Bound">r</a> 
    <a id="3485" class="Keyword">rewrite</a> <a id="3493" href="/Substitution/#22338" class="Function">sub-sub</a><a id="3500" class="Symbol">{</a><a id="3501" class="Argument">M</a> <a id="3503" class="Symbol">=</a> <a id="3505" class="Bound">N</a><a id="3506" class="Symbol">}{</a><a id="3508" class="Argument">σ₁</a> <a id="3511" class="Symbol">=</a> <a id="3513" href="/Untyped/#6623" class="Function">exts</a> <a id="3518" class="Bound">σ₁</a><a id="3520" class="Symbol">}{</a><a id="3522" class="Argument">σ₂</a> <a id="3525" class="Symbol">=</a> <a id="3527" href="/Untyped/#7359" class="Function">subst-zero</a> <a id="3538" class="Symbol">(</a><a id="3539" href="/Untyped/#6931" class="Function">subst</a> <a id="3545" class="Bound">σ</a> <a id="3547" class="Bound">M</a><a id="3548" class="Symbol">)}</a> <a id="3551" class="Symbol">=</a>
    <a id="3557" class="Keyword">let</a> <a id="3561" href="/ContextualEquivalence/#3561" class="Bound">rs</a> <a id="3564" class="Symbol">=</a> <a id="3566" class="Symbol">(</a><a id="3567" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="3569" href="/Untyped/#6931" class="Function">subst</a> <a id="3575" class="Symbol">(</a><a id="3576" href="/Untyped/#6623" class="Function">exts</a> <a id="3581" class="Bound">σ₁</a><a id="3583" class="Symbol">)</a> <a id="3585" class="Bound">N</a><a id="3586" class="Symbol">)</a> <a id="3588" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="3590" href="/Untyped/#6931" class="Function">subst</a> <a id="3596" class="Bound">σ</a> <a id="3598" class="Bound">M</a> <a id="3600" href="/LambdaReduction/#1001" class="InductiveConstructor Operator">—→⟨</a> <a id="3604" href="/ContextualEquivalence/#3478" class="Bound">r</a> <a id="3606" href="/LambdaReduction/#1001" class="InductiveConstructor Operator">⟩</a> <a id="3608" href="/ContextualEquivalence/#3464" class="Bound">r&#39;</a> <a id="3611" class="Keyword">in</a>
    <a id="3618" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3620" href="/ContextualEquivalence/#3457" class="Bound">N&#39;</a> <a id="3623" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3625" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3627" href="/LambdaReduction/#1210" class="Function">—↠-trans</a> <a id="3636" class="Symbol">(</a><a id="3637" href="/LambdaReduction/#1923" class="Function">appL-cong</a> <a id="3647" class="Bound">σL—↠L&#39;</a><a id="3653" class="Symbol">)</a> <a id="3655" href="/ContextualEquivalence/#3561" class="Bound">rs</a> <a id="3658" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3660" href="/ContextualEquivalence/#3469" class="Bound">bl</a> <a id="3663" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3665" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<h2 id="denotational-equivalence-implies-contextual-equivalence">Denotational equivalence implies contextual equivalence</h2>

<pre class="Agda"><a id="terminates"></a><a id="3753" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="3764" class="Symbol">:</a> <a id="3766" class="Symbol">∀{</a><a id="3768" href="/ContextualEquivalence/#3768" class="Bound">Γ</a><a id="3769" class="Symbol">}</a> <a id="3771" class="Symbol">→</a> <a id="3773" class="Symbol">(</a><a id="3774" href="/ContextualEquivalence/#3774" class="Bound">M</a> <a id="3776" class="Symbol">:</a> <a id="3778" href="/ContextualEquivalence/#3768" class="Bound">Γ</a> <a id="3780" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="3782" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="3783" class="Symbol">)</a> <a id="3785" class="Symbol">→</a> <a id="3787" class="PrimitiveType">Set</a>
<a id="3791" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="3802" class="Symbol">{</a><a id="3803" href="/ContextualEquivalence/#3803" class="Bound">Γ</a><a id="3804" class="Symbol">}</a> <a id="3806" href="/ContextualEquivalence/#3806" class="Bound">M</a> <a id="3808" class="Symbol">=</a> <a id="3810" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="3813" href="/ContextualEquivalence/#3813" class="Bound">N</a> <a id="3815" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="3817" class="Symbol">(</a><a id="3818" href="/ContextualEquivalence/#3803" class="Bound">Γ</a> <a id="3820" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="3822" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="3824" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="3826" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="3827" class="Symbol">)</a> <a id="3829" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="3831" class="Symbol">(</a><a id="3832" href="/ContextualEquivalence/#3806" class="Bound">M</a> <a id="3834" href="/LambdaReduction/#894" class="Datatype Operator">—↠</a> <a id="3837" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="3839" href="/ContextualEquivalence/#3813" class="Bound">N</a><a id="3840" class="Symbol">)</a></pre>

<pre class="Agda"><a id="_≅_"></a><a id="3867" href="/ContextualEquivalence/#3867" class="Function Operator">_≅_</a> <a id="3871" class="Symbol">:</a> <a id="3873" class="Symbol">∀{</a><a id="3875" href="/ContextualEquivalence/#3875" class="Bound">Γ</a><a id="3876" class="Symbol">}</a> <a id="3878" class="Symbol">→</a> <a id="3880" class="Symbol">(</a><a id="3881" href="/ContextualEquivalence/#3881" class="Bound">M</a> <a id="3883" href="/ContextualEquivalence/#3883" class="Bound">N</a> <a id="3885" class="Symbol">:</a> <a id="3887" href="/ContextualEquivalence/#3875" class="Bound">Γ</a> <a id="3889" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="3891" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="3892" class="Symbol">)</a> <a id="3894" class="Symbol">→</a> <a id="3896" class="PrimitiveType">Set</a>
<a id="3900" class="Symbol">(</a><a id="3901" href="/ContextualEquivalence/#3867" class="Function Operator">_≅_</a> <a id="3905" class="Symbol">{</a><a id="3906" href="/ContextualEquivalence/#3906" class="Bound">Γ</a><a id="3907" class="Symbol">}</a> <a id="3909" href="/ContextualEquivalence/#3909" class="Bound">M</a> <a id="3911" href="/ContextualEquivalence/#3911" class="Bound">N</a><a id="3912" class="Symbol">)</a> <a id="3914" class="Symbol">=</a> <a id="3916" class="Symbol">∀</a> <a id="3918" class="Symbol">{</a><a id="3919" href="/ContextualEquivalence/#3919" class="Bound">C</a> <a id="3921" class="Symbol">:</a> <a id="3923" href="/Compositional/#13076" class="Datatype">Ctx</a> <a id="3927" href="/ContextualEquivalence/#3906" class="Bound">Γ</a> <a id="3929" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="3930" class="Symbol">}</a>
                <a id="3948" class="Symbol">→</a> <a id="3950" class="Symbol">(</a><a id="3951" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="3962" class="Symbol">(</a><a id="3963" href="/Compositional/#14146" class="Function">plug</a> <a id="3968" href="/ContextualEquivalence/#3919" class="Bound">C</a> <a id="3970" href="/ContextualEquivalence/#3909" class="Bound">M</a><a id="3971" class="Symbol">))</a> <a id="3974" href="/Denotational/#17838" class="Function Operator">iff</a> <a id="3978" class="Symbol">(</a><a id="3979" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="3990" class="Symbol">(</a><a id="3991" href="/Compositional/#14146" class="Function">plug</a> <a id="3996" href="/ContextualEquivalence/#3919" class="Bound">C</a> <a id="3998" href="/ContextualEquivalence/#3911" class="Bound">N</a><a id="3999" class="Symbol">))</a></pre>

<pre class="Agda"><a id="denot-equal-terminates"></a><a id="4027" href="/ContextualEquivalence/#4027" class="Function">denot-equal-terminates</a> <a id="4050" class="Symbol">:</a> <a id="4052" class="Symbol">∀{</a><a id="4054" href="/ContextualEquivalence/#4054" class="Bound">Γ</a><a id="4055" class="Symbol">}</a> <a id="4057" class="Symbol">{</a><a id="4058" href="/ContextualEquivalence/#4058" class="Bound">M</a> <a id="4060" href="/ContextualEquivalence/#4060" class="Bound">N</a> <a id="4062" class="Symbol">:</a> <a id="4064" href="/ContextualEquivalence/#4054" class="Bound">Γ</a> <a id="4066" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="4068" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="4069" class="Symbol">}</a> <a id="4071" class="Symbol">{</a><a id="4072" href="/ContextualEquivalence/#4072" class="Bound">C</a> <a id="4074" class="Symbol">:</a> <a id="4076" href="/Compositional/#13076" class="Datatype">Ctx</a> <a id="4080" href="/ContextualEquivalence/#4054" class="Bound">Γ</a> <a id="4082" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="4083" class="Symbol">}</a>
  <a id="4087" class="Symbol">→</a> <a id="4089" href="/Denotational/#18349" class="Function">ℰ</a> <a id="4091" href="/ContextualEquivalence/#4058" class="Bound">M</a> <a id="4093" href="/Denotational/#18547" class="Function Operator">≃</a> <a id="4095" href="/Denotational/#18349" class="Function">ℰ</a> <a id="4097" href="/ContextualEquivalence/#4060" class="Bound">N</a>
  <a id="4101" class="Symbol">→</a> <a id="4103" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="4114" class="Symbol">(</a><a id="4115" href="/Compositional/#14146" class="Function">plug</a> <a id="4120" href="/ContextualEquivalence/#4072" class="Bound">C</a> <a id="4122" href="/ContextualEquivalence/#4058" class="Bound">M</a><a id="4123" class="Symbol">)</a>
  <a id="4127" class="Symbol">→</a> <a id="4129" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="4140" class="Symbol">(</a><a id="4141" href="/Compositional/#14146" class="Function">plug</a> <a id="4146" href="/ContextualEquivalence/#4072" class="Bound">C</a> <a id="4148" href="/ContextualEquivalence/#4060" class="Bound">N</a><a id="4149" class="Symbol">)</a>
<a id="4151" href="/ContextualEquivalence/#4027" class="Function">denot-equal-terminates</a> <a id="4174" class="Symbol">{</a><a id="4175" href="/ContextualEquivalence/#4175" class="Bound">Γ</a><a id="4176" class="Symbol">}{</a><a id="4178" href="/ContextualEquivalence/#4178" class="Bound">M</a><a id="4179" class="Symbol">}{</a><a id="4181" href="/ContextualEquivalence/#4181" class="Bound">N</a><a id="4182" class="Symbol">}{</a><a id="4184" href="/ContextualEquivalence/#4184" class="Bound">C</a><a id="4185" class="Symbol">}</a> <a id="4187" href="/ContextualEquivalence/#4187" class="Bound">eq</a> <a id="4190" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4192" href="/ContextualEquivalence/#4192" class="Bound">N&#39;</a> <a id="4195" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4197" href="/ContextualEquivalence/#4197" class="Bound">CM—↠CƛN&#39;</a> <a id="4206" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4208" class="Symbol">=</a>
  <a id="4212" class="Keyword">let</a> <a id="4216" href="/ContextualEquivalence/#4216" class="Bound">ℰCM≃ℰCƛN&#39;</a> <a id="4226" class="Symbol">=</a> <a id="4228" href="/Soundness/#24644" class="Function">soundness</a> <a id="4238" href="/ContextualEquivalence/#4197" class="Bound">CM—↠CƛN&#39;</a> <a id="4247" class="Keyword">in</a>
  <a id="4252" class="Keyword">let</a> <a id="4256" href="/ContextualEquivalence/#4256" class="Bound">ℰCM≃ℰCN</a> <a id="4264" class="Symbol">=</a> <a id="4266" href="/Compositional/#14557" class="Function">compositionality</a><a id="4282" class="Symbol">{</a><a id="4283" class="Argument">Γ</a> <a id="4285" class="Symbol">=</a> <a id="4287" href="/ContextualEquivalence/#4175" class="Bound">Γ</a><a id="4288" class="Symbol">}{</a><a id="4290" class="Argument">Δ</a> <a id="4292" class="Symbol">=</a> <a id="4294" href="/Untyped/#3002" class="InductiveConstructor">∅</a><a id="4295" class="Symbol">}{</a><a id="4297" class="Argument">C</a> <a id="4299" class="Symbol">=</a> <a id="4301" href="/ContextualEquivalence/#4184" class="Bound">C</a><a id="4302" class="Symbol">}</a> <a id="4304" href="/ContextualEquivalence/#4187" class="Bound">eq</a> <a id="4307" class="Keyword">in</a>
  <a id="4312" class="Keyword">let</a> <a id="4316" href="/ContextualEquivalence/#4316" class="Bound">ℰCN≃ℰCƛN&#39;</a> <a id="4326" class="Symbol">=</a> <a id="4328" href="/Denotational/#18968" class="Function">≃-trans</a> <a id="4336" class="Symbol">(</a><a id="4337" href="/Denotational/#18835" class="Function">≃-sym</a> <a id="4343" href="/ContextualEquivalence/#4256" class="Bound">ℰCM≃ℰCN</a><a id="4350" class="Symbol">)</a> <a id="4352" href="/ContextualEquivalence/#4216" class="Bound">ℰCM≃ℰCƛN&#39;</a> <a id="4362" class="Keyword">in</a>
    <a id="4369" href="/ContextualEquivalence/#4433" class="Function">G</a> <a id="4371" class="Symbol">(</a><a id="4372" href="/Adequacy/#23360" class="Function">adequacy</a> <a id="4381" href="/ContextualEquivalence/#4316" class="Bound">ℰCN≃ℰCƛN&#39;</a><a id="4390" class="Symbol">)</a>
  <a id="4394" class="Keyword">where</a>
  <a id="4402" href="/ContextualEquivalence/#4402" class="Function">H-id</a> <a id="4407" class="Symbol">:</a> <a id="4409" href="/ContextualEquivalence/#1587" class="Function">ℍ</a> <a id="4411" href="/Adequacy/#6897" class="Function">∅&#39;</a> <a id="4414" href="/Substitution/#2589" class="Function">ids</a>
  <a id="4420" href="/ContextualEquivalence/#4402" class="Function">H-id</a> <a id="4425" class="Symbol">{()}</a>

  <a id="4433" href="/ContextualEquivalence/#4433" class="Function">G</a> <a id="4435" class="Symbol">:</a> <a id="4437" class="Symbol">(</a><a id="4438" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="4441" href="/ContextualEquivalence/#4441" class="Bound">Δ</a> <a id="4443" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="4445" href="/Untyped/#2980" class="Datatype">Context</a> <a id="4453" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="4455" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="4458" href="/ContextualEquivalence/#4458" class="Bound">M&#39;</a> <a id="4461" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="4463" class="Symbol">(</a><a id="4464" href="/ContextualEquivalence/#4441" class="Bound">Δ</a> <a id="4466" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="4468" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="4470" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="4472" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="4473" class="Symbol">)</a> <a id="4475" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="4477" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="4480" href="/ContextualEquivalence/#4480" class="Bound">γ</a> <a id="4482" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="4484" href="/Adequacy/#6669" class="Function">ClosEnv</a> <a id="4492" href="/ContextualEquivalence/#4441" class="Bound">Δ</a> <a id="4494" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a>
         <a id="4505" href="/Adequacy/#6897" class="Function">∅&#39;</a> <a id="4508" href="/Adequacy/#7130" class="Datatype Operator">⊢</a> <a id="4510" class="Symbol">(</a><a id="4511" href="/Compositional/#14146" class="Function">plug</a> <a id="4516" href="/ContextualEquivalence/#4184" class="Bound">C</a> <a id="4518" href="/ContextualEquivalence/#4181" class="Bound">N</a><a id="4519" class="Symbol">)</a> <a id="4521" href="/Adequacy/#7130" class="Datatype Operator">⇓</a> <a id="4523" href="/Adequacy/#6718" class="InductiveConstructor">clos</a> <a id="4528" class="Symbol">(</a><a id="4529" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="4531" href="/ContextualEquivalence/#4458" class="Bound">M&#39;</a><a id="4533" class="Symbol">)</a> <a id="4535" href="/ContextualEquivalence/#4480" class="Bound">γ</a><a id="4536" class="Symbol">)</a>
    <a id="4542" class="Symbol">→</a> <a id="4544" href="/ContextualEquivalence/#3753" class="Function">terminates</a> <a id="4555" class="Symbol">(</a><a id="4556" href="/Compositional/#14146" class="Function">plug</a> <a id="4561" href="/ContextualEquivalence/#4184" class="Bound">C</a> <a id="4563" href="/ContextualEquivalence/#4181" class="Bound">N</a><a id="4564" class="Symbol">)</a>
  <a id="4568" href="/ContextualEquivalence/#4433" class="Function">G</a> <a id="4570" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4572" href="/ContextualEquivalence/#4572" class="Bound">Δ</a> <a id="4574" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4576" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4578" href="/ContextualEquivalence/#4578" class="Bound">M&#39;</a> <a id="4581" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4583" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4585" href="/ContextualEquivalence/#4585" class="Bound">γ</a> <a id="4587" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4589" href="/ContextualEquivalence/#4589" class="Bound">CN⇓ƛM&#39;γ</a> <a id="4597" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4599" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4601" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
      <a id="4609" class="Keyword">with</a> <a id="4614" href="/ContextualEquivalence/#2566" class="Function">cbn-soundness</a><a id="4627" class="Symbol">{</a><a id="4628" class="Argument">σ</a> <a id="4630" class="Symbol">=</a> <a id="4632" href="/Substitution/#2589" class="Function">ids</a><a id="4635" class="Symbol">}</a> <a id="4637" href="/ContextualEquivalence/#4589" class="Bound">CN⇓ƛM&#39;γ</a> <a id="4645" href="/ContextualEquivalence/#4402" class="Function">H-id</a>
  <a id="4652" class="Symbol">...</a> <a id="4656" class="Symbol">|</a> <a id="4658" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4660" href="/ContextualEquivalence/#4660" class="Bound">N&#39;&#39;</a> <a id="4664" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4666" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4668" href="/ContextualEquivalence/#4668" class="Bound">rs</a> <a id="4671" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4673" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4675" href="/ContextualEquivalence/#4675" class="Bound">σ</a> <a id="4677" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4679" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4681" href="/ContextualEquivalence/#4681" class="Bound">h</a> <a id="4683" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4685" href="/ContextualEquivalence/#4685" class="Bound">eq2</a> <a id="4689" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4691" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4693" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4695" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
      <a id="4703" class="Keyword">rewrite</a> <a id="4711" href="/Substitution/#16736" class="Function">sub-id</a><a id="4717" class="Symbol">{</a><a id="4718" class="Argument">M</a> <a id="4720" class="Symbol">=</a> <a id="4722" href="/Compositional/#14146" class="Function">plug</a> <a id="4727" href="/ContextualEquivalence/#4184" class="Bound">C</a> <a id="4729" href="/ContextualEquivalence/#4181" class="Bound">N</a><a id="4730" class="Symbol">}</a> <a id="4732" class="Symbol">|</a> <a id="4734" href="/ContextualEquivalence/#4685" class="Bound">eq2</a> <a id="4738" class="Symbol">=</a>
      <a id="4746" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4748" href="/Untyped/#6931" class="Function">subst</a> <a id="4754" class="Symbol">(λ</a> <a id="4757" class="Symbol">{</a><a id="4758" href="/ContextualEquivalence/#4758" class="Bound">A</a><a id="4759" class="Symbol">}</a> <a id="4761" class="Symbol">→</a> <a id="4763" href="/Untyped/#6623" class="Function">exts</a> <a id="4768" href="/ContextualEquivalence/#4675" class="Bound">σ</a><a id="4769" class="Symbol">)</a> <a id="4771" class="Bound">M&#39;</a> <a id="4774" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4776" href="/ContextualEquivalence/#4668" class="Bound">rs</a> <a id="4779" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<pre class="Agda"><a id="denot-equal-contex-equal"></a><a id="4806" href="/ContextualEquivalence/#4806" class="Function">denot-equal-contex-equal</a> <a id="4831" class="Symbol">:</a> <a id="4833" class="Symbol">∀{</a><a id="4835" href="/ContextualEquivalence/#4835" class="Bound">Γ</a><a id="4836" class="Symbol">}</a> <a id="4838" class="Symbol">{</a><a id="4839" href="/ContextualEquivalence/#4839" class="Bound">M</a> <a id="4841" href="/ContextualEquivalence/#4841" class="Bound">N</a> <a id="4843" class="Symbol">:</a> <a id="4845" href="/ContextualEquivalence/#4835" class="Bound">Γ</a> <a id="4847" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="4849" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="4850" class="Symbol">}</a>
  <a id="4854" class="Symbol">→</a> <a id="4856" href="/Denotational/#18349" class="Function">ℰ</a> <a id="4858" href="/ContextualEquivalence/#4839" class="Bound">M</a> <a id="4860" href="/Denotational/#18547" class="Function Operator">≃</a> <a id="4862" href="/Denotational/#18349" class="Function">ℰ</a> <a id="4864" href="/ContextualEquivalence/#4841" class="Bound">N</a>
  <a id="4868" class="Symbol">→</a> <a id="4870" href="/ContextualEquivalence/#4839" class="Bound">M</a> <a id="4872" href="/ContextualEquivalence/#3867" class="Function Operator">≅</a> <a id="4874" href="/ContextualEquivalence/#4841" class="Bound">N</a>
<a id="4876" href="/ContextualEquivalence/#4806" class="Function">denot-equal-contex-equal</a><a id="4900" class="Symbol">{</a><a id="4901" href="/ContextualEquivalence/#4901" class="Bound">Γ</a><a id="4902" class="Symbol">}{</a><a id="4904" href="/ContextualEquivalence/#4904" class="Bound">M</a><a id="4905" class="Symbol">}{</a><a id="4907" href="/ContextualEquivalence/#4907" class="Bound">N</a><a id="4908" class="Symbol">}</a> <a id="4910" href="/ContextualEquivalence/#4910" class="Bound">eq</a> <a id="4913" class="Symbol">{</a><a id="4914" href="/ContextualEquivalence/#4914" class="Bound">C</a><a id="4915" class="Symbol">}</a> <a id="4917" class="Symbol">=</a>
   <a id="4922" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4924" class="Symbol">(λ</a> <a id="4927" href="/ContextualEquivalence/#4927" class="Bound">tm</a> <a id="4930" class="Symbol">→</a> <a id="4932" href="/ContextualEquivalence/#4027" class="Function">denot-equal-terminates</a> <a id="4955" href="/ContextualEquivalence/#4910" class="Bound">eq</a> <a id="4958" href="/ContextualEquivalence/#4927" class="Bound">tm</a><a id="4960" class="Symbol">)</a> <a id="4962" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a>
     <a id="4969" class="Symbol">(λ</a> <a id="4972" href="/ContextualEquivalence/#4972" class="Bound">tn</a> <a id="4975" class="Symbol">→</a> <a id="4977" href="/ContextualEquivalence/#4027" class="Function">denot-equal-terminates</a> <a id="5000" class="Symbol">(</a><a id="5001" href="/Denotational/#18835" class="Function">≃-sym</a> <a id="5007" href="/ContextualEquivalence/#4910" class="Bound">eq</a><a id="5009" class="Symbol">)</a> <a id="5011" href="/ContextualEquivalence/#4972" class="Bound">tn</a><a id="5013" class="Symbol">)</a> <a id="5015" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

  </div>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/Adequacy/">Prev</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/ContextualEquivalence.lagda">Source</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/Acknowledgements/">Next</a>
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Programming Language Foundations in Agda
</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>
<!-- Import jQuery -->
<script type="text/javascript" src="/assets/jquery.js"></script>

<!-- Script which allows for foldable code blocks -->
<script type="text/javascript">
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
